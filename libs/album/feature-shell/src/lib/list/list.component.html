<app-list-toolbar [creatingNew]="creatingNew$ | async" (searchRequest)="onSearch($event)" (createNew)="onCreateNew()"></app-list-toolbar>

<ng-container *ngIf="albumsLoading$ | async; else listTemplate">
  <mat-spinner></mat-spinner>
</ng-container>

<ng-template #listTemplate>
  <div class="flex flex-row flex-wrap" appAddAlbum (albumAdded)="onAlbumAdded($event)">
    <div class="p-2" *ngFor="let album of albums$ | async; trackBy: identify">
      <app-list-item
        [album]="album"
        (openAlbum)="openAlbum.emit($event)"
        (getCover)="onGetCover(album.id, album.folder)"
        (renameFolder)="onRenameFolder(album.id, album.fullPath, album.artist, album.album)"
        (transferAlbum)="onTransferAlbum(album.id, album.fullPath)"
        (addToPlaylist)="onAddToPlaylist(album.id, album.fullPath)"
      ></app-list-item>
    </div>
  </div>
</ng-template>
